RealAntennasCommNetParams
{
    minRelayTL = 0
    TargetingMode
    {
        name = Vessel
        techLevel = 0
        hint = Align to the specified vessel
        text = Select a vessel to target:
    }
    TargetingMode
    {
        name = BodyCenter
        displayName = Body Center
        techLevel = 0
        hint = Align to the center of the specified celestial body
        text = Select a body to target:
    }
    TargetingMode
    {
        name = BodyLatLonAlt
        displayName = Body Fixed Point
        techLevel = 0
        hint = Align to a fixed position on the specified celestial body
        text = Select a body to target:
    }
    TargetingMode
    {
        name = AzEl
        displayName = Azimuth/Elevation
        techLevel = 0
        hint = Point at a fixed orientation relative to the current position on the parent celestial body
        text = Select an azimuth and elevation:
    }
    TargetingMode
    {
        name = OrbitRelative
        displayName = Orbit Relative
        techLevel = 0
        hint = Point at a fixed orientation relative to the current orbit
        text = Select a deflection and elevation:
        texture = RealAntennas/Textures/OrbitRelative
    }
    BandInfo
    {
        name = L
        TechLevel = 0
        Frequency = 1.620e9
        ChannelWidth = 31.5e3
    }
    BandInfo
    {
        name = S
        TechLevel = 0
        Frequency = 2.25e9
        ChannelWidth = 0.330e6
    }
    BandInfo
    {
        name = X
        TechLevel = 0
        Frequency = 8.45e9
        ChannelWidth = 1.36e6
    }
    BandInfo
    {
        name = K
        TechLevel = 0
        Frequency = 26.250e9
        ChannelWidth = 20e6
    }
    EncoderInfo
    {
        name = None
        TechLevel = 0
        CodingRate = 1
        RequiredEbN0 = 10
    }
    EncoderInfo
    {
        name = Reed-Solomon 255/223
        TechLevel = 0
        CodingRate = 0.8745
        RequiredEbN0 = 6.1
    }
    EncoderInfo
    {
        name = Convolutional 7, 1/2
        TechLevel = 0
        CodingRate = 0.5
        RequiredEbN0 = 4.5
    }
    EncoderInfo
    {
        name = Turbo 1/2
        TechLevel = 0
        CodingRate = 0.5
        RequiredEbN0 = 1
    }
    
    TechLevelInfo
    {
        name = TL0
        Level = 0
        Description = Massive Scale Comms, 1986-1997: 70m antennas 1988
        PowerEfficiency = 0.3724
        ReflectorEfficiency = 0.66
        MinDataRate = 16
        MaxDataRate = 262144
        MaxPower = 46
        MassPerWatt = 0.54
        BaseMass = 10
        BasePower = 14.3
        BaseCost = 110
        CostPerWatt = 0.5
        ReceiverNoiseTemperature = 500	// 2.6dB
    }
    TechLevelInfo
    {
        name = TL1
        Level = 1
        Description = Efficient Comms, 1998-2008: Super-cooled maser & feed 1995, Ka-band 2004
        PowerEfficiency = 0.4397
        ReflectorEfficiency = 0.68
        MinDataRate = 16
        MaxDataRate = 134217728
        MaxPower = 50
        MassPerWatt = 0.1418
        BaseMass = 7.5
        BasePower = 11.7
        BaseCost = 125
        CostPerWatt = 0.4
        ReceiverNoiseTemperature = 200	// 1.8dB
    }
}

// Create the Kopernicus-like structure if it doesn't exist
// Planet packs will fill this in, to configure station locations
Kopernicus:NEEDS[!Kopernicus]
{
    Body { name = Kerbin }
}

@Kopernicus:HAS[@Body[Kerbin]]:FIRST
{
    @Body[Kerbin]
    {
        %PQS
        {
            %Mods {}
        }
    }
}

// Late-pass configuration of antenna parameters at stations
@Kopernicus:FOR[zRealAntennas]
{
    @Body[Kerbin]
    {
        @PQS
        {
            @Mods
            {
                @City2[*TrackingStation],*
                {
                    %commnetStation = False
                    RACommNetStation = True
                    %icon = RealAntennas/radio-antenna
                    Antenna
                    {
                        referenceGain = 6
                        referenceFrequency = 1620
                        TxPower = 40                // 10W
                        TechLevel = 0
                        RFBand = L
                        AMWTemp = 290
                        ModulationBits = 1          // BPSK only
                    }
                }
                @City2[DSNTrackingStation],*
                {
                    %icon = RealAntennas/DSN
                    @Antenna:HAS[#RFBand[L]],*
                    {
                        @referenceGain = 20         // DSN gets some array
                        %referenceFrequency = 1620
                        @TxPower = 50
                    }
                    Antenna
                    {
                        referenceGain = 60.5        // 26m antenna 1958
                        referenceFrequency = 2250
                        TxPower = 63                // 2KW
                        TechLevel = 0
                        RFBand = S
                        AMWTemp = 80
                        ModulationBits = 1

                    }
                    Antenna
                    {
                        referenceGain = 74.3       // X-Band 64m
                        referenceFrequency = 8450
                        TxPower = 73              // 10KW
                        TechLevel = 0
                        RFBand = X
                        AMWTemp = 40
                        ModulationBits = 2

                        UPGRADE
                        {
                            TechLevel = 1
                            AMWTemp = 12.8
                        }
                    }
                    Antenna
                    {
                        referenceGain = 79          // K-Band 34m
                        referenceFrequency = 26250
                        TxPower = 54.8
                        TechLevel = 1
                        RFBand = K
                        AMWTemp = 20
                        ModulationBits = 2
                    }
                }
            }
        }
    }
}
